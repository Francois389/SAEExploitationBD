CREATE TABLE departement (
  nom_departement varchar(70)        NOT NULL  PRIMARY KEY
);

CREATE TABLE creneau (
  id_creneau varchar(60)                 NOT NULL  PRIMARY KEY,
  intitule varchar(70)               NOT NULL,
  heure_debut datetime               NOT NULL,
  heure_fin datetime                 NOT NULL
);

CREATE TABLE professeur (
  id_professeur int(11)              NOT NULL,
  nom_professeur varchar(50)         NOT NULL,
  prenom_professeur varchar(50)      NOT NULL,

  PRIMARY KEY (id_professeur)
);

CREATE TABLE batiment (
  nom_batiment varchar(50)           NOT NULL  PRIMARY KEY
);

CREATE TABLE groupe (
  nom_groupe varchar(50)             NOT NULL  PRIMARY KEY,
  annee_etude int(1)                 NOT NULL,
  nom_departement varchar(50)        NOT NULL,
  FOREIGN KEY (nom_departement) REFERENCES departement(nom_departement)
);

CREATE TABLE salle ( -- il n'y avais pas de prrobl√©me
  nom_salle varchar(50)              NOT NULL PRIMARY KEY,
  est_informatique enum('oui','non') NOT NULL,
  nom_batiment varchar(50)           NOT NULL,
  FOREIGN KEY (nom_batiment) REFERENCES batiment(nom_batiment)
);

CREATE TABLE accueil (
  nom_salle varchar(50)              NOT NULL,
  id_creneau varchar(60)                 NOT NULL,
  PRIMARY KEY (nom_salle,id_creneau),
  FOREIGN KEY (id_creneau) REFERENCES creneau(id_creneau),
  FOREIGN KEY (nom_salle) REFERENCES salle(nom_salle)
);

CREATE TABLE participer (
  nom_groupe varchar(50)             NOT NULL,
  id_creneau varchar(60)                 NOT NULL,
  PRIMARY KEY (nom_groupe,id_creneau),
  FOREIGN KEY (nom_groupe) REFERENCES groupe(nom_groupe),
  FOREIGN KEY (id_creneau) REFERENCES creneau(id_creneau)
);

CREATE TABLE enseigner (
  id_professeur int(11)              NOT NULL,
  id_creneau varchar(60)                 NOT NULL,
  PRIMARY KEY (id_professeur,id_creneau),
  FOREIGN KEY (id_professeur) REFERENCES professeur(id_professeur),
  FOREIGN KEY (id_creneau) REFERENCES creneau(id_creneau)
);

-- Les DROP TABLE dans le bonne ordre
-- DROP TABLE enseigner;
-- DROP TABLE participer;
-- DROP TABLE accueil;
-- DROP TABLE salle;
-- DROP TABLE groupe;
-- DROP TABLE batiment;
-- DROP TABLE professeur;
-- DROP TABLE creneau;
-- DROP TABLE departement;