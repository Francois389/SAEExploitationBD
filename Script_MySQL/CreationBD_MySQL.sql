USE votreBaseDeDonnees;

CREATE TABLE departement (
  nom_departement varchar(70)        NOT NULL  PRIMARY KEY
);

CREATE TABLE creneau (
  id_creneau varchar(60)                 NOT NULL  PRIMARY KEY,
  intitule varchar(70)               NOT NULL,
  heure_debut datetime               NOT NULL,
  heure_fin datetime                 NOT NULL
);

CREATE TABLE professeur (
  id_professeur int(11)              NOT NULL  PRIMARY KEY,
  nom_professeur varchar(50)         NOT NULL,
  prenom_professeur varchar(50)      NOT NULL
);

CREATE TABLE batiment (
  nom_batiment varchar(50)           NOT NULL  PRIMARY KEY
  
);

CREATE TABLE groupe (
  nom_groupe varchar(50)             NOT NULL  PRIMARY KEY,
  annee_etude int(1)                 NOT NULL,
  nom_departement varchar(50)        NOT NULL,
  FOREIGN KEY (nom_departement) REFERENCES departement(nom_departement)
);

CREATE TABLE salle (
  nom_salle varchar(50)              NOT NULL PRIMARY KEY,
  est_informatique enum('oui','non') NOT NULL,
  nom_batiment varchar(50)           NOT NULL,
  FOREIGN KEY (nom_batiment) REFERENCES BATIMENT(nom_batiment)
);

CREATE TABLE accueil (
  nom_salle varchar(50)              NOT NULL,
  id_creneau varchar(60)                 NOT NULL,
  PRIMARY KEY (nom_salle,id_creneau),
  FOREIGN KEY (id_creneau) REFERENCES CRENEAU(id_creneau),
  FOREIGN KEY (nom_salle) REFERENCES SALLE(nom_salle)
);

CREATE TABLE participer (
  nom_groupe varchar(50)             NOT NULL,
  id_creneau varchar(60)                 NOT NULL,
  PRIMARY KEY (nom_groupe,id_creneau),
  FOREIGN KEY (nom_groupe) REFERENCES GROUPE(nom_groupe),
  FOREIGN KEY (id_creneau) REFERENCES CRENEAU(id_creneau)
);

CREATE TABLE enseigner (
  id_professeur int(11)              NOT NULL,
  id_creneau varchar(60)                 NOT NULL,
  PRIMARY KEY (id_professeur,id_creneau),
  FOREIGN KEY (id_professeur) REFERENCES PROFESSEUR(id_professeur),
  FOREIGN KEY (id_creneau) REFERENCES CRENEAU(id_creneau)
);