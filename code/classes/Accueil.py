from classes.Salle import Salle
from classes.Creneau import Creneau

class Accueil:
    """
    classe permettant de stocker les éléments de l'association Accueil
    elle contient les identifiants des tables Salle et créneau
        - nom_salle: str -> le nom de la salle qui accueille
        - id_creneau: str -> l'identifiant du créneau qui est accueilli
    """    
    def __init__(self, salle: Salle, creneau: Creneau) -> None:
        """
        argurments : 
            - salle: str -> la salle qui accueille
            - id_creneau: str -> le créneau qui est accueilli
        """
        self.nom_salle  : str = salle.get_nom()
        self.id_creneau : str = creneau.get_identifiant()

    
    def get_nom_salle(self) -> str:
        """
        retours : 
            - nom_salle: str
        
        getteur permettant de récupérer le nom de la salle
        """
        return self.nom_salle

    def get_id_creneau(self) -> str:
        """
        retours : 
            - id_creneau: str
        
        getteur permettant de récupérer l'identifiant du créneau
        """
        return self.id_creneau

    def get_colonnes_sql(self) -> tuple[str]:
        """
        permet de récupérer les différentes colonnes pour faciliter 
        la création des scripts d'insertion
        """
        return ("(nom_salle, id_creneau)")

    def get_valeurs_sql(self) -> tuple[str]:
        """
        permet de récupérer les valeurs à insérer pour faciliter 
        la création des scripts d'insertion 
        """
        return (f"('{self.nom_salle}', '{self.id_creneau}')")


    def __eq__(self, arg) -> bool:
        if type(arg) == type(None):
            return False

        return self.nom_salle == arg.get_nom_salle() and self.id_creneau == arg.get_id_creneau()

    def __gt__(self, arg) -> bool:
        return self.nom_salle > arg.get_nom_salle()
    
    def __lt__(self, arg) -> bool:
        return self.nom_salle < arg.get_nom_salle()

    def __str__(self) -> str:
        return f"la salle {self.salle} accueille {self.id_creneau}"