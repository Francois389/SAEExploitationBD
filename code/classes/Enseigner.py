from classes.Professeur import Professeur
from classes.Creneau import Creneau

class Enseigner:
    """
    Classe de la relation Enseigner.

    Cette relation lie un créneau de l'emploi du temps à un enseignant :
    → Le professeur enseigne durant un créneau.
    """
    def __init__(self, professeur: Professeur, creneau: Creneau) -> None:
        """
        Constructeur de la classe.
        Définition des attributs de la classe.
        """
        self.id_prof: str = professeur.get_ident()
        self.id_creneau: str = creneau.get_identifiant()

    def get_id_prof(self) -> str:
        """
        Getter de l'identifiant du professeur.

        Retourne :
            L'identifiant du professeur lié au créneau
        """
        return self.id_prof
    
    def get_id_creneau(self) -> str:
        """
        Getter de l'identifiant du créneau.

        Retourne :
            L'identifiant du créneau
        """
        return self.id_creneau
    
    def get_colonnes_sql(self) -> tuple[str]:
        """
        Permet de récupérer les différentes colonnes pour faciliter
        la création des scripts d'insertion.

        Retourne :
            Les différentes colonnes
        """
        return ("(id_prof, id_creneau)")

    def get_valeurs_sql(self) -> tuple[str]:
        """
        Permet de récupérer les valeurs des différentes colonnes pour faciliter
        la création des scripts d'insertion.

        Retourne :
            Les valeurs des différentes colonnes
        """
        return (f"('{self.id_prof}', '{self.id_creneau}')")
    
    def __eq__(self, arg) -> bool:
        if type(arg) == type(None):
            return False

        return self.id_prof == arg.get_id_prof() and self.id_creneau == arg.get_id_creneau()

    def __gt__(self, arg) -> bool:
        return self.id_prof > arg.get_id_prof()
    
    def __lt__(self, arg) -> bool:
        return self.id_prof < arg.get_id_prof()

    def __str__(self) -> str:
        return f"le professeur d'ID {self.id_prof} enseigne au {self.id_creneau}"
    
