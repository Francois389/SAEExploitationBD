from Batiment import Batiment

class Salle:
    

    def __init__(self, ligne: str, id_creneau: str) -> None:
        self.nom: str 
        self.est_informatique: str 
        self.batiment: Batiment
        self.extraire_infos(ligne)
        self.id_creneau: str = id_creneau

    
    def extraire_infos(self, ligne: str) -> str:
        lisible = ligne.split("\t")
        print(lisible)
        self.nom = lisible[0]
        self.batiment = Batiment(lisible[1])

        self.est_informatique = self.verif_si_informatique()

    def verif_si_informatique(self) -> str:
        with open("data/salles.txt") as fichier_salles:

            for ligne in fichier_salles.readlines():
                if self.nom in ligne and "oui" in ligne:
                    return "oui"
            
            return "non"
        
    
    def get_nom(self) -> str: return self.nom

    def get_batiment(self) -> Batiment: return self.batiment
    
    def get_informatique(self) -> bool: return self.est_informatique
        
    def __str__(self) -> str:
        return f"{self.nom} ; {self.batiment} ; {self.est_informatique}"

# test = Salle("A300	A	oui")
# print(test)